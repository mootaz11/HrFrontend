/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, ContentChild, ElementRef, Input, TemplateRef, ViewChild } from '@angular/core';
import { NgxSimpleCalendarService } from './ngx-simple-calendar.service';
import { months, days } from './data-models/data-calendar';
var NgxSimpleCalendarComponent = /** @class */ (function () {
    function NgxSimpleCalendarComponent(ngxCalendarSrv) {
        this.ngxCalendarSrv = ngxCalendarSrv;
        this.options = {};
        this.dayCorrectedHeight = '';
        this.months = months;
        this.days = days;
        this.settings = {
            outline: true,
            evenDayDimensions: false
        };
    }
    Object.defineProperty(NgxSimpleCalendarComponent.prototype, "events", {
        get: /**
         * @return {?}
         */
        function () {
            return this.eventsInternal;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.eventsInternal = value;
            this.initializeCalendar();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgxSimpleCalendarComponent.prototype, "activeMonth", {
        get: /**
         * @return {?}
         */
        function () {
            var _this = this;
            /** @type {?} */
            var currentMonth = months.find((/**
             * @param {?} month
             * @return {?}
             */
            function (month) { return month.id === _this.currentMonth; }));
            return {
                year: this.currentYear,
                month: currentMonth,
                setNextMonth: this.setNextMonth,
                setPreviousMonth: this.setPreviousMonth
            };
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    NgxSimpleCalendarComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.settings = tslib_1.__assign({}, this.settings, this.options);
        this.initializeCalendar();
    };
    /**
     * @return {?}
     */
    NgxSimpleCalendarComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout((/**
         * @return {?}
         */
        function () { return _this.dayCorrectedHeight = _this.dayHolder.nativeElement.clientWidth + "px"; }), 0);
    };
    /**
     * @private
     * @return {?}
     */
    NgxSimpleCalendarComponent.prototype.initializeCalendar = /**
     * @private
     * @return {?}
     */
    function () {
        this.setupActiveDate();
        this.setupCalendarData();
    };
    /**
     * @private
     * @return {?}
     */
    NgxSimpleCalendarComponent.prototype.setupActiveDate = /**
     * @private
     * @return {?}
     */
    function () {
        if (!this.currentMonth) {
            /** @type {?} */
            var now = new Date();
            this.currentMonth = now.getMonth();
            this.currentYear = now.getFullYear();
            this.currentMonthYearText = this.ngxCalendarSrv.getMonthYearText(this.currentMonth, this.currentYear);
        }
    };
    /**
     * @private
     * @return {?}
     */
    NgxSimpleCalendarComponent.prototype.setupCalendarData = /**
     * @private
     * @return {?}
     */
    function () {
        this.calendarData = this.ngxCalendarSrv.setupCalendar(this.currentMonth, this.currentYear, this.events);
    };
    /**
     * @return {?}
     */
    NgxSimpleCalendarComponent.prototype.setPreviousMonth = /**
     * @return {?}
     */
    function () {
        if ((this.currentMonth - 1) === -1) {
            this.currentMonth = 11;
            this.currentYear = this.currentYear - 1;
        }
        else {
            this.currentMonth = this.currentMonth - 1;
        }
        this.calendarData = this.ngxCalendarSrv.setupCalendar(this.currentMonth, this.currentYear, this.events);
        this.currentMonthYearText = this.ngxCalendarSrv.getMonthYearText(this.currentMonth, this.currentYear);
    };
    /**
     * @return {?}
     */
    NgxSimpleCalendarComponent.prototype.setNextMonth = /**
     * @return {?}
     */
    function () {
        if ((this.currentMonth + 1) === 12) {
            this.currentMonth = 0;
            this.currentYear = this.currentYear + 1;
        }
        else {
            this.currentMonth = this.currentMonth + 1;
        }
        this.calendarData = this.ngxCalendarSrv.setupCalendar(this.currentMonth, this.currentYear, this.events);
        this.currentMonthYearText = this.ngxCalendarSrv.getMonthYearText(this.currentMonth, this.currentYear);
    };
    NgxSimpleCalendarComponent.decorators = [
        { type: Component, args: [{
                    selector: 'ngx-simple-calendar',
                    template: "<div class=\"ngx-calendar__top-bar\">\r\n  <ng-container *ngIf=\"topBarTemplate\">\r\n    <ng-container *ngTemplateOutlet=\"topBarTemplate; context: activeMonth\"></ng-container>\r\n  </ng-container>\r\n  <ng-container *ngIf=\"!topBarTemplate\">\r\n    <div class=\"ngx-calendar__top-bar-icon\" (click)=\"setPreviousMonth()\">\r\n      <\r\n    </div>\r\n    <span class=\"ngx-calendar__title\">{{currentMonthYearText }}</span>\r\n    <div class=\"ngx-calendar__top-bar-icon\" (click)=\"setNextMonth()\">\r\n      >\r\n    </div>\r\n  </ng-container>\r\n\r\n</div>\r\n<div class=\"ngx-calendar__wrapper\">\r\n  <div class=\"ngx-calendar__calendar\">\r\n    <div class=\"ngx-calendar__days-of-week\">\r\n\r\n      <div class=\"ngx-calendar__day-of-week\"\r\n           *ngFor=\"let day of days\">\r\n        <ng-container *ngIf=\"weekDaysTemplate\">\r\n          <ng-container *ngTemplateOutlet=\"weekDaysTemplate; context: day\"></ng-container>\r\n        </ng-container>\r\n        <ng-container *ngIf=\"!weekDaysTemplate\">\r\n          {{day.name }}\r\n        </ng-container>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"ngx-calendar__days-holder\"\r\n         [style.align-content]=\"settings.evenDayDimensions ? 'baseline': 'initial' \"\r\n         [class.ngx-calendar__days-holder--outline]=\"settings.outline\">\r\n      <div class=\"ngx-calendar__day\"\r\n           #dayHolder\r\n           *ngFor=\"let day of calendarData\"\r\n           [style.height]=\"settings.evenDayDimensions ? dayCorrectedHeight : 'initial'\"\r\n           [class.ngx-calendar__day--outline]=\"settings.outline\"\r\n           [class.today]=\"day.today\"\r\n           [class.not-current]=\"!day.activeMonth\">\r\n        <div [style.display]=\"day.activeMonth ? 'none': 'block'\" class=\"ngx-calendar__day--overlay\"></div>\r\n        <div *ngIf=\"!dayTemplate\" class=\"ngx-calendar__default-day\">\r\n          <div class=\"ngx-calendar__day-number\">{{day.number}}</div>\r\n        </div>\r\n        <ng-container *ngIf=\"dayTemplate\">\r\n          <ng-container *ngTemplateOutlet=\"dayTemplate; context: day\"></ng-container>\r\n        </ng-container>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n",
                    styles: [":host{height:100%;width:100%;position:absolute;top:0;bottom:0;right:0;left:0;display:flex;flex-direction:column}.ngx-calendar__top-bar{display:flex;justify-content:center;align-items:center;margin-bottom:1.35rem}.ngx-calendar__top-bar-icon{background-color:#eceff1;font-size:1.1rem;height:1.5rem;width:1.5rem;display:flex;align-items:center;border-radius:50%;justify-content:center;margin:0 1.25rem;color:#6c6d6e;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ngx-calendar__title{color:#455a64;font-size:1.25rem;letter-spacing:.25px;font-weight:500}.ngx-calendar__days-holder,.ngx-calendar__wrapper{flex:1;position:relative}.ngx-calendar__days-holder{display:flex;flex-wrap:wrap}.ngx-calendar__days-holder--outline{border-left:1px solid #cfd8dc;border-top:1px solid #cfd8dc}.ngx-calendar__calendar,.ngx-calendar__days{position:absolute;top:0;bottom:0;right:0;left:0;display:flex}.ngx-calendar__calendar{flex-direction:column}.ngx-calendar__days-of-week{display:flex}.ngx-calendar__day-of-week{flex:1;color:#64818f;font-size:.775rem;padding-top:.35rem;padding-bottom:.35rem}.ngx-calendar__days{background-color:#fff;border:1px solid #cfd8dc;display:flex;flex-wrap:wrap}.ngx-calendar__day{flex:0 1 calc(100%/7 - 1px);border-bottom:1px solid transparent;border-right:1px solid transparent;position:relative}.ngx-calendar__day--overlay{background-color:#f0f4f88a;position:absolute;top:0;bottom:0;right:0;left:0;z-index:2}.ngx-calendar__day--outline{border-bottom:1px solid #cfd8dc;border-right:1px solid #cfd8dc}.ngx-calendar__default-day{position:absolute;top:0;bottom:0;right:0;left:0;padding:.5rem}.ngx-calendar__default-day:nth-child(7n),.ngx-calendar__default-day:nth-child(7n-1){background-color:#feedd9}.ngx-calendar__default-day:nth-child(-n+7){border-top:none}.ngx-calendar__default-day.today{box-shadow:inset 0 0 2px 2px #f57c00}.ngx-calendar__day-number{text-align:right;color:#546e7a;font-size:.85rem}"]
                }] }
    ];
    /** @nocollapse */
    NgxSimpleCalendarComponent.ctorParameters = function () { return [
        { type: NgxSimpleCalendarService }
    ]; };
    NgxSimpleCalendarComponent.propDecorators = {
        options: [{ type: Input, args: ['options',] }],
        events: [{ type: Input, args: ['events',] }],
        dayHolder: [{ type: ViewChild, args: ['dayHolder', { static: false, read: ElementRef },] }],
        dayTemplate: [{ type: ContentChild, args: ['day', { static: false, read: TemplateRef },] }],
        topBarTemplate: [{ type: ContentChild, args: ['topBar', { static: false, read: TemplateRef },] }],
        weekDaysTemplate: [{ type: ContentChild, args: ['weekDays', { static: false, read: TemplateRef },] }]
    };
    return NgxSimpleCalendarComponent;
}());
export { NgxSimpleCalendarComponent };
if (false) {
    /**
     * @type {?}
     * @private
     */
    NgxSimpleCalendarComponent.prototype.eventsInternal;
    /** @type {?} */
    NgxSimpleCalendarComponent.prototype.options;
    /** @type {?} */
    NgxSimpleCalendarComponent.prototype.dayHolder;
    /** @type {?} */
    NgxSimpleCalendarComponent.prototype.dayTemplate;
    /** @type {?} */
    NgxSimpleCalendarComponent.prototype.topBarTemplate;
    /** @type {?} */
    NgxSimpleCalendarComponent.prototype.weekDaysTemplate;
    /** @type {?} */
    NgxSimpleCalendarComponent.prototype.dayCorrectedHeight;
    /** @type {?} */
    NgxSimpleCalendarComponent.prototype.calendarData;
    /** @type {?} */
    NgxSimpleCalendarComponent.prototype.currentMonthYearText;
    /** @type {?} */
    NgxSimpleCalendarComponent.prototype.currentMonth;
    /** @type {?} */
    NgxSimpleCalendarComponent.prototype.currentYear;
    /** @type {?} */
    NgxSimpleCalendarComponent.prototype.months;
    /** @type {?} */
    NgxSimpleCalendarComponent.prototype.days;
    /** @type {?} */
    NgxSimpleCalendarComponent.prototype.settings;
    /**
     * @type {?}
     * @private
     */
    NgxSimpleCalendarComponent.prototype.ngxCalendarSrv;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXNpbXBsZS1jYWxlbmRhci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3gtc2ltcGxlLWNhbGVuZGFyLyIsInNvdXJjZXMiOlsibGliL25neC1zaW1wbGUtY2FsZW5kYXIuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFnQixTQUFTLEVBQUUsWUFBWSxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQVUsV0FBVyxFQUFFLFNBQVMsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUN4SCxPQUFPLEVBQUMsd0JBQXdCLEVBQUMsTUFBTSwrQkFBK0IsQ0FBQztBQUN2RSxPQUFPLEVBQUMsTUFBTSxFQUFFLElBQUksRUFBMkQsTUFBTSw2QkFBNkIsQ0FBQztBQUduSDtJQW9DRSxvQ0FBb0IsY0FBd0M7UUFBeEMsbUJBQWMsR0FBZCxjQUFjLENBQTBCO1FBM0IxQyxZQUFPLEdBQUcsRUFBRSxDQUFDO1FBOEIvQix1QkFBa0IsR0FBRyxFQUFFLENBQUM7UUFNeEIsV0FBTSxHQUFxQixNQUFNLENBQUM7UUFDbEMsU0FBSSxHQUFXLElBQUksQ0FBQztRQUVwQixhQUFRLEdBQUc7WUFDVCxPQUFPLEVBQUUsSUFBSTtZQUNiLGlCQUFpQixFQUFFLEtBQUs7U0FDekIsQ0FBQztJQWRGLENBQUM7SUExQkQsc0JBQXFCLDhDQUFNOzs7O1FBSzNCO1lBQ0UsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO1FBQzdCLENBQUM7Ozs7O1FBUEQsVUFBNEIsS0FBc0I7WUFDaEQsSUFBSSxDQUFDLGNBQWMsR0FBRyxLQUFLLENBQUM7WUFDNUIsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFDNUIsQ0FBQzs7O09BQUE7SUFZRCxzQkFBSSxtREFBVzs7OztRQUFmO1lBQUEsaUJBUUM7O2dCQVBPLFlBQVksR0FBRyxNQUFNLENBQUMsSUFBSTs7OztZQUFDLFVBQUMsS0FBSyxJQUFLLE9BQUEsS0FBSyxDQUFDLEVBQUUsS0FBSyxL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RCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QWZ0ZXJWaWV3SW5pdCwgQ29tcG9uZW50LCBDb250ZW50Q2hpbGQsIEVsZW1lbnRSZWYsIElucHV0LCBPbkluaXQsIFRlbXBsYXRlUmVmLCBWaWV3Q2hpbGR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtOZ3hTaW1wbGVDYWxlbmRhclNlcnZpY2V9IGZyb20gJy4vbmd4LXNpbXBsZS1jYWxlbmRhci5zZXJ2aWNlJztcbmltcG9ydCB7bW9udGhzLCBkYXlzLCBDYWxlbmRhckRheSwgQ2FsZW5kYXJFdmVudCwgVG9wQmFyLCBDYWxlbmRhck1vbnRocywgRGF5SX0gZnJvbSAnLi9kYXRhLW1vZGVscy9kYXRhLWNhbGVuZGFyJztcblxuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICduZ3gtc2ltcGxlLWNhbGVuZGFyJyxcbiAgdGVtcGxhdGVVcmw6ICcuL25neC1zaW1wbGUtY2FsZW5kYXIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9uZ3gtc2ltcGxlLWNhbGVuZGFyLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgTmd4U2ltcGxlQ2FsZW5kYXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyVmlld0luaXQge1xuXG4gIHByaXZhdGUgZXZlbnRzSW50ZXJuYWw6IENhbGVuZGFyRXZlbnRbXTtcblxuICBASW5wdXQoJ29wdGlvbnMnKSBvcHRpb25zID0ge307XG5cbiAgQElucHV0KCdldmVudHMnKSBzZXQgZXZlbnRzKHZhbHVlOiBDYWxlbmRhckV2ZW50W10pIHtcbiAgICB0aGlzLmV2ZW50c0ludGVybmFsID0gdmFsdWU7XG4gICAgdGhpcy5pbml0aWFsaXplQ2FsZW5kYXIoKTtcbiAgfVxuXG4gIGdldCBldmVudHMoKTogQ2FsZW5kYXJFdmVudFtdIHtcbiAgICByZXR1cm4gdGhpcy5ldmVudHNJbnRlcm5hbDtcbiAgfVxuXG4gIEBWaWV3Q2hpbGQoJ2RheUhvbGRlcicsIHtzdGF0aWM6IGZhbHNlLCByZWFkOiBFbGVtZW50UmVmfSkgZGF5SG9sZGVyO1xuXG4gIEBDb250ZW50Q2hpbGQoJ2RheScsIHtzdGF0aWM6IGZhbHNlLCByZWFkOiBUZW1wbGF0ZVJlZn0pIGRheVRlbXBsYXRlO1xuICBAQ29udGVudENoaWxkKCd0b3BCYXInLCB7c3RhdGljOiBmYWxzZSwgcmVhZDogVGVtcGxhdGVSZWZ9KSB0b3BCYXJUZW1wbGF0ZTtcbiAgQENvbnRlbnRDaGlsZCgnd2Vla0RheXMnLCB7c3RhdGljOiBmYWxzZSwgcmVhZDogVGVtcGxhdGVSZWZ9KSB3ZWVrRGF5c1RlbXBsYXRlO1xuXG4gIGdldCBhY3RpdmVNb250aCgpOiBUb3BCYXIge1xuICAgIGNvbnN0IGN1cnJlbnRNb250aCA9IG1vbnRocy5maW5kKChtb250aCkgPT4gbW9udGguaWQgPT09IHRoaXMuY3VycmVudE1vbnRoKTtcbiAgICByZXR1cm4ge1xuICAgICAgeWVhcjogdGhpcy5jdXJyZW50WWVhcixcbiAgICAgIG1vbnRoOiBjdXJyZW50TW9udGgsXG4gICAgICBzZXROZXh0TW9udGg6IHRoaXMuc2V0TmV4dE1vbnRoLFxuICAgICAgc2V0UHJldmlvdXNNb250aDogdGhpcy5zZXRQcmV2aW91c01vbnRoXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbmd4Q2FsZW5kYXJTcnY6IE5neFNpbXBsZUNhbGVuZGFyU2VydmljZSkge1xuICB9XG5cbiAgZGF5Q29ycmVjdGVkSGVpZ2h0ID0gJyc7XG4gIGNhbGVuZGFyRGF0YTogQ2FsZW5kYXJEYXlbXTtcbiAgY3VycmVudE1vbnRoWWVhclRleHQ6IHN0cmluZztcbiAgY3VycmVudE1vbnRoOiBudW1iZXI7XG4gIGN1cnJlbnRZZWFyOiBudW1iZXI7XG5cbiAgbW9udGhzOiBDYWxlbmRhck1vbnRoc1tdID0gbW9udGhzO1xuICBkYXlzOiBEYXlJW10gPSBkYXlzO1xuXG4gIHNldHRpbmdzID0ge1xuICAgIG91dGxpbmU6IHRydWUsXG4gICAgZXZlbkRheURpbWVuc2lvbnM6IGZhbHNlXG4gIH07XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHsuLi50aGlzLnNldHRpbmdzLCAuLi50aGlzLm9wdGlvbnN9O1xuICAgIHRoaXMuaW5pdGlhbGl6ZUNhbGVuZGFyKCk7XG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmRheUNvcnJlY3RlZEhlaWdodCA9IGAke3RoaXMuZGF5SG9sZGVyLm5hdGl2ZUVsZW1lbnQuY2xpZW50V2lkdGh9cHhgLCAwKTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdGlhbGl6ZUNhbGVuZGFyKCkge1xuICAgIHRoaXMuc2V0dXBBY3RpdmVEYXRlKCk7XG4gICAgdGhpcy5zZXR1cENhbGVuZGFyRGF0YSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cEFjdGl2ZURhdGUoKSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRNb250aCkge1xuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgIHRoaXMuY3VycmVudE1vbnRoID0gbm93LmdldE1vbnRoKCk7XG4gICAgICB0aGlzLmN1cnJlbnRZZWFyID0gbm93LmdldEZ1bGxZZWFyKCk7XG4gICAgICB0aGlzLmN1cnJlbnRNb250aFllYXJUZXh0ID0gdGhpcy5uZ3hDYWxlbmRhclNydi5nZXRNb250aFllYXJUZXh0KHRoaXMuY3VycmVudE1vbnRoLCB0aGlzLmN1cnJlbnRZZWFyKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNldHVwQ2FsZW5kYXJEYXRhKCkge1xuICAgIHRoaXMuY2FsZW5kYXJEYXRhID0gdGhpcy5uZ3hDYWxlbmRhclNydi5zZXR1cENhbGVuZGFyKHRoaXMuY3VycmVudE1vbnRoLCB0aGlzLmN1cnJlbnRZZWFyLCB0aGlzLmV2ZW50cyk7XG4gIH1cblxuICBzZXRQcmV2aW91c01vbnRoKCkge1xuICAgIGlmICgodGhpcy5jdXJyZW50TW9udGggLSAxKSA9PT0gLTEpIHtcbiAgICAgIHRoaXMuY3VycmVudE1vbnRoID0gMTE7XG4gICAgICB0aGlzLmN1cnJlbnRZZWFyID0gdGhpcy5jdXJyZW50WWVhciAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3VycmVudE1vbnRoID0gdGhpcy5jdXJyZW50TW9udGggLSAxO1xuICAgIH1cbiAgICB0aGlzLmNhbGVuZGFyRGF0YSA9IHRoaXMubmd4Q2FsZW5kYXJTcnYuc2V0dXBDYWxlbmRhcih0aGlzLmN1cnJlbnRNb250aCwgdGhpcy5jdXJyZW50WWVhciwgdGhpcy5ldmVudHMpO1xuICAgIHRoaXMuY3VycmVudE1vbnRoWWVhclRleHQgPSB0aGlzLm5neENhbGVuZGFyU3J2LmdldE1vbnRoWWVhclRleHQodGhpcy5jdXJyZW50TW9udGgsIHRoaXMuY3VycmVudFllYXIpO1xuICB9XG5cbiAgc2V0TmV4dE1vbnRoKCkge1xuICAgIGlmICgodGhpcy5jdXJyZW50TW9udGggKyAxKSA9PT0gMTIpIHtcbiAgICAgIHRoaXMuY3VycmVudE1vbnRoID0gMDtcbiAgICAgIHRoaXMuY3VycmVudFllYXIgPSB0aGlzLmN1cnJlbnRZZWFyICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50TW9udGggPSB0aGlzLmN1cnJlbnRNb250aCArIDE7XG4gICAgfVxuXG4gICAgdGhpcy5jYWxlbmRhckRhdGEgPSB0aGlzLm5neENhbGVuZGFyU3J2LnNldHVwQ2FsZW5kYXIodGhpcy5jdXJyZW50TW9udGgsIHRoaXMuY3VycmVudFllYXIsIHRoaXMuZXZlbnRzKTtcbiAgICB0aGlzLmN1cnJlbnRNb250aFllYXJUZXh0ID0gdGhpcy5uZ3hDYWxlbmRhclNydi5nZXRNb250aFllYXJUZXh0KHRoaXMuY3VycmVudE1vbnRoLCB0aGlzLmN1cnJlbnRZZWFyKTtcbiAgfVxufVxuIl19