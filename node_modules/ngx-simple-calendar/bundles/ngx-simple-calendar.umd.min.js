!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-simple-calendar",["exports","@angular/core","@angular/common"],t):t((e=e||self)["ngx-simple-calendar"]={},e.ng.core,e.ng.common)}(this,function(e,t,n){"use strict";var a=function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function r(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)i.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}var o={January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,October:9,November:10,December:11};o[o.January]="January",o[o.February]="February",o[o.March]="March",o[o.April]="April",o[o.May]="May",o[o.June]="June",o[o.July]="July",o[o.August]="August",o[o.September]="September",o[o.October]="October",o[o.November]="November",o[o.December]="December";var i={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};i[i.Sunday]="Sunday",i[i.Monday]="Monday",i[i.Tuesday]="Tuesday",i[i.Wednesday]="Wednesday",i[i.Thursday]="Thursday",i[i.Friday]="Friday",i[i.Saturday]="Saturday";var s=[{id:o.January,translationKey:"calendar.months.january",name:"January"},{id:o.February,translationKey:"calendar.months.february",name:"February"},{id:o.March,translationKey:"calendar.months.march",name:"March"},{id:o.April,translationKey:"calendar.months.april",name:"April"},{id:o.May,translationKey:"calendar.months.may",name:"May"},{id:o.June,translationKey:"calendar.months.june",name:"June"},{id:o.July,translationKey:"calendar.months.july",name:"July"},{id:o.August,translationKey:"calendar.months.august",name:"August"},{id:o.September,translationKey:"calendar.months.september",name:"September"},{id:o.October,translationKey:"calendar.months.october",name:"October"},{id:o.November,translationKey:"calendar.months.november",name:"November"},{id:o.December,translationKey:"calendar.months.december",name:"December"}],d=[{id:i.Monday,translationKey:"calendar.days.monday",name:"Monday"},{id:i.Tuesday,translationKey:"calendar.days.tuesday",name:"Tuesday"},{id:i.Wednesday,translationKey:"calendar.days.wednesday",name:"Wednesday"},{id:i.Thursday,translationKey:"calendar.days.thursday",name:"Thursday"},{id:i.Friday,translationKey:"calendar.days.friday",name:"Friday"},{id:i.Saturday,translationKey:"calendar.days.saturday",name:"Saturday"},{id:i.Sunday,translationKey:"calendar.days.sunday",name:"Sunday"}],l=function(){function e(){var e=this;this.getDaysInMonth=function(e,t){return new Date(t,e+1,0).getDate()},this.getFirstDayInMonth=function(e,t){return new Date(t,e,1).getDay()},this.getLastDayInMonth=function(t,n){return new Date(n,t,e.getDaysInMonth(t,n)).getDay()},this.getMonthYearText=function(e,t){return s.find(function(t){return t.id===e}).name+" "+t}}return e.prototype.setupCalendar=function(e,t,n){var a=this.getFirstDayInMonth(e,t),o=this.getLastDayInMonth(e,t),i=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e}(this.getDaysFromLastMonth(e,t,a),this.getDaysInCurrentMonth(e,t),this.getDaysFromNextMonth(e,t,o));return this.markCurrentDate(i),n&&this.addEvents(i,n),i},e.prototype.getDaysFromLastMonth=function(e,t,n){var a,r,o=[];e-1==-1?(a=11,r=t-1):(a=e-1,r=t);for(var i=this.getDaysInMonth(a,r),s=i-(0===n?6:n-1)+1;s<=i;s++)o.push(this.generatedayObject(r,a,s,!1));return o},e.prototype.getDaysInCurrentMonth=function(e,t){for(var n=this.getDaysInMonth(e,t),a=[],r=1;r<=n;r++)a.push(this.generatedayObject(t,e,r));return a},e.prototype.getDaysFromNextMonth=function(e,t,n){var a,r,o=[];e+1===12?(a=0,r=t+1):(a=e+1,r=t);for(var i=0===n?0:7-n,s=1;s<=i;s++)o.push(this.generatedayObject(r,a,s,!1));return o},e.prototype.markCurrentDate=function(e){var t=new Date,n=t.getDate(),a=t.getMonth(),r=t.getFullYear();e.forEach(function(e){e.number===n&&e.month===a&&e.year===r&&(e.today=!0)})},e.prototype.isWeekend=function(e){var t=e.getDay();return 0===t||6===t},e.prototype.getDateTimeLastOfDay=function(e){var t=new Date(e.getTime());return t.setDate(t.getDate()+1),t.setMilliseconds(t.getMilliseconds()-1),t},e.prototype.generatedayObject=function(e,t,n,a){void 0===a&&(a=!0);var r=new Date(e,t,n);return{number:n,startDateTime:r,endDateTime:this.getDateTimeLastOfDay(r),month:r.getMonth(),year:r.getFullYear(),weekend:this.isWeekend(r),today:!1,activeMonth:a,events:[]}},e.prototype.addEvents=function(e,t){var n=this;t.forEach(function(t){t.endDateTime?n.handleEventInterval(e,t):n.handleFullDayEvent(e,t)})},e.prototype.handleFullDayEvent=function(e,t){try{e.find(function(e){return e.startDateTime.getTime()<=t.startDateTime.getTime()&&e.endDateTime.getTime()>=t.startDateTime.getTime()}).events.push(t)}catch(e){console.log("startDateTime on event is not set")}},e.prototype.handleEventInterval=function(e,t){try{e.filter(function(e){return e.endDateTime.getTime()>=t.startDateTime.getTime()}).filter(function(e){var n=new Date(e.endDateTime.getTime());return n.setDate(n.getDate()-1),n.getTime()<=t.endDateTime.getTime()}).forEach(function(e){e.events.push(t)})}catch(e){console.log("Error on handling event interval")}},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}();var c=function(){function e(e){this.ngxCalendarSrv=e,this.options={},this.dayCorrectedHeight="",this.months=s,this.days=d,this.settings={outline:!0,evenDayDimensions:!1}}return Object.defineProperty(e.prototype,"events",{get:function(){return this.eventsInternal},set:function(e){this.eventsInternal=e,this.initializeCalendar()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeMonth",{get:function(){var e=this,t=s.find(function(t){return t.id===e.currentMonth});return{year:this.currentYear,month:t,setNextMonth:this.setNextMonth,setPreviousMonth:this.setPreviousMonth}},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.settings=a({},this.settings,this.options),this.initializeCalendar()},e.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){return e.dayCorrectedHeight=e.dayHolder.nativeElement.clientWidth+"px"},0)},e.prototype.initializeCalendar=function(){this.setupActiveDate(),this.setupCalendarData()},e.prototype.setupActiveDate=function(){if(!this.currentMonth){var e=new Date;this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.currentMonthYearText=this.ngxCalendarSrv.getMonthYearText(this.currentMonth,this.currentYear)}},e.prototype.setupCalendarData=function(){this.calendarData=this.ngxCalendarSrv.setupCalendar(this.currentMonth,this.currentYear,this.events)},e.prototype.setPreviousMonth=function(){this.currentMonth-1==-1?(this.currentMonth=11,this.currentYear=this.currentYear-1):this.currentMonth=this.currentMonth-1,this.calendarData=this.ngxCalendarSrv.setupCalendar(this.currentMonth,this.currentYear,this.events),this.currentMonthYearText=this.ngxCalendarSrv.getMonthYearText(this.currentMonth,this.currentYear)},e.prototype.setNextMonth=function(){this.currentMonth+1===12?(this.currentMonth=0,this.currentYear=this.currentYear+1):this.currentMonth=this.currentMonth+1,this.calendarData=this.ngxCalendarSrv.setupCalendar(this.currentMonth,this.currentYear,this.events),this.currentMonthYearText=this.ngxCalendarSrv.getMonthYearText(this.currentMonth,this.currentYear)},e.decorators=[{type:t.Component,args:[{selector:"ngx-simple-calendar",template:'<div class="ngx-calendar__top-bar">\r\n  <ng-container *ngIf="topBarTemplate">\r\n    <ng-container *ngTemplateOutlet="topBarTemplate; context: activeMonth"></ng-container>\r\n  </ng-container>\r\n  <ng-container *ngIf="!topBarTemplate">\r\n    <div class="ngx-calendar__top-bar-icon" (click)="setPreviousMonth()">\r\n      <\r\n    </div>\r\n    <span class="ngx-calendar__title">{{currentMonthYearText }}</span>\r\n    <div class="ngx-calendar__top-bar-icon" (click)="setNextMonth()">\r\n      >\r\n    </div>\r\n  </ng-container>\r\n\r\n</div>\r\n<div class="ngx-calendar__wrapper">\r\n  <div class="ngx-calendar__calendar">\r\n    <div class="ngx-calendar__days-of-week">\r\n\r\n      <div class="ngx-calendar__day-of-week"\r\n           *ngFor="let day of days">\r\n        <ng-container *ngIf="weekDaysTemplate">\r\n          <ng-container *ngTemplateOutlet="weekDaysTemplate; context: day"></ng-container>\r\n        </ng-container>\r\n        <ng-container *ngIf="!weekDaysTemplate">\r\n          {{day.name }}\r\n        </ng-container>\r\n      </div>\r\n\r\n    </div>\r\n    <div class="ngx-calendar__days-holder"\r\n         [style.align-content]="settings.evenDayDimensions ? \'baseline\': \'initial\' "\r\n         [class.ngx-calendar__days-holder--outline]="settings.outline">\r\n      <div class="ngx-calendar__day"\r\n           #dayHolder\r\n           *ngFor="let day of calendarData"\r\n           [style.height]="settings.evenDayDimensions ? dayCorrectedHeight : \'initial\'"\r\n           [class.ngx-calendar__day--outline]="settings.outline"\r\n           [class.today]="day.today"\r\n           [class.not-current]="!day.activeMonth">\r\n        <div [style.display]="day.activeMonth ? \'none\': \'block\'" class="ngx-calendar__day--overlay"></div>\r\n        <div *ngIf="!dayTemplate" class="ngx-calendar__default-day">\r\n          <div class="ngx-calendar__day-number">{{day.number}}</div>\r\n        </div>\r\n        <ng-container *ngIf="dayTemplate">\r\n          <ng-container *ngTemplateOutlet="dayTemplate; context: day"></ng-container>\r\n        </ng-container>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n',styles:[":host{height:100%;width:100%;position:absolute;top:0;bottom:0;right:0;left:0;display:flex;flex-direction:column}.ngx-calendar__top-bar{display:flex;justify-content:center;align-items:center;margin-bottom:1.35rem}.ngx-calendar__top-bar-icon{background-color:#eceff1;font-size:1.1rem;height:1.5rem;width:1.5rem;display:flex;align-items:center;border-radius:50%;justify-content:center;margin:0 1.25rem;color:#6c6d6e;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ngx-calendar__title{color:#455a64;font-size:1.25rem;letter-spacing:.25px;font-weight:500}.ngx-calendar__days-holder,.ngx-calendar__wrapper{flex:1;position:relative}.ngx-calendar__days-holder{display:flex;flex-wrap:wrap}.ngx-calendar__days-holder--outline{border-left:1px solid #cfd8dc;border-top:1px solid #cfd8dc}.ngx-calendar__calendar,.ngx-calendar__days{position:absolute;top:0;bottom:0;right:0;left:0;display:flex}.ngx-calendar__calendar{flex-direction:column}.ngx-calendar__days-of-week{display:flex}.ngx-calendar__day-of-week{flex:1;color:#64818f;font-size:.775rem;padding-top:.35rem;padding-bottom:.35rem}.ngx-calendar__days{background-color:#fff;border:1px solid #cfd8dc;display:flex;flex-wrap:wrap}.ngx-calendar__day{flex:0 1 calc(100%/7 - 1px);border-bottom:1px solid transparent;border-right:1px solid transparent;position:relative}.ngx-calendar__day--overlay{background-color:#f0f4f88a;position:absolute;top:0;bottom:0;right:0;left:0;z-index:2}.ngx-calendar__day--outline{border-bottom:1px solid #cfd8dc;border-right:1px solid #cfd8dc}.ngx-calendar__default-day{position:absolute;top:0;bottom:0;right:0;left:0;padding:.5rem}.ngx-calendar__default-day:nth-child(7n),.ngx-calendar__default-day:nth-child(7n-1){background-color:#feedd9}.ngx-calendar__default-day:nth-child(-n+7){border-top:none}.ngx-calendar__default-day.today{box-shadow:inset 0 0 2px 2px #f57c00}.ngx-calendar__day-number{text-align:right;color:#546e7a;font-size:.85rem}"]}]}],e.ctorParameters=function(){return[{type:l}]},e.propDecorators={options:[{type:t.Input,args:["options"]}],events:[{type:t.Input,args:["events"]}],dayHolder:[{type:t.ViewChild,args:["dayHolder",{static:!1,read:t.ElementRef}]}],dayTemplate:[{type:t.ContentChild,args:["day",{static:!1,read:t.TemplateRef}]}],topBarTemplate:[{type:t.ContentChild,args:["topBar",{static:!1,read:t.TemplateRef}]}],weekDaysTemplate:[{type:t.ContentChild,args:["weekDays",{static:!1,read:t.TemplateRef}]}]},e}();var u=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[c],providers:[l],imports:[n.CommonModule],exports:[c]}]}],e}();e.NgxSimpleCalendarComponent=c,e.NgxSimpleCalendarModule=u,e.NgxSimpleCalendarService=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-simple-calendar.umd.min.js.map